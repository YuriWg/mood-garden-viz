{"ast":null,"code":"var _jsxFileName = \"/Users/wyl/Documents/GitHub/DataViz Portfolio/mood-garden-viz/src/components/FlowerView.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport * as d3 from 'd3';\nimport { colorThemes } from '../utils/themes';\nimport { SizeConfig } from '../utils/sizeConfig';\nimport { Utils } from '../utils/flowerUtils';\nimport Tooltip from './Tooltip';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SVGContainer = styled.div`\n  // {{移除 position, left, top, height, display}}\n  // position: absolute; \n  // left: 0;\n  // top: 0;\n  // height: 100%; \n  // display: flex;\n  // flex-direction: column;\n  width: 100%; // {{保留 width}}\n`;\n_c = SVGContainer;\nconst FlowerView = ({\n  flowerData,\n  isRandomView,\n  currentTheme,\n  dimensions = {\n    width: 0,\n    height: 0\n  },\n  // 添加默认值\n  setDimensions,\n  // 添加 setDimensions 到 props\n  selectedFlower,\n  setSelectedFlower\n}) => {\n  _s();\n  const svgRef = useRef(null);\n  const containerRef = useRef(null); // Ref is attached to SVGContainer\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({\n    x: 0,\n    y: 0\n  });\n\n  // 添加尺寸计算逻辑\n  useEffect(() => {\n    if (!containerRef.current) return; // Checks the ref for the inner container\n\n    const updateDimensions = () => {\n      if (containerRef.current) {\n        // Uses the ref for the inner container\n        const {\n          width,\n          height\n        } = containerRef.current.getBoundingClientRect();\n        if (width !== dimensions.width || height !== dimensions.height) {\n          if (typeof setDimensions === 'function') {\n            setDimensions({\n              width,\n              height\n            });\n          }\n        }\n      }\n    };\n    updateDimensions();\n    const resizeObserver = new ResizeObserver(updateDimensions);\n    resizeObserver.observe(containerRef.current); // Observes the inner container\n\n    return () => {\n      if (containerRef.current) {\n        resizeObserver.unobserve(containerRef.current);\n      }\n    };\n  }, []);\n\n  // 获取当前主题颜色\n  const themeColors = colorThemes[currentTheme].colors;\n\n  // 获取颜色比例尺\n  const getColorScale = () => {\n    const theme = colorThemes[currentTheme];\n    return d3.scaleLinear().domain([-5, -2.5, 0, 2.5, 5]).range([theme.colors.petals.negative[0], theme.colors.petals.negative[2], theme.colors.petals.neutral, theme.colors.petals.positive[2], theme.colors.petals.positive[0]]).interpolate(d3.interpolateHcl);\n  };\n\n  // 获取花朵颜色\n  const getColor = score => {\n    return getColorScale()(score);\n  };\n\n  // 获取花芯颜色\n  const getFlowerCenterColor = score => {\n    const centers = themeColors.centers;\n    if (score >= 4) return centers.positive;\n    if (score >= 2) return centers.highPositive;\n    if (score > 0) return centers.lowPositive;\n    if (score === 0) return centers.neutral;\n    if (score > -2) return centers.lowNegative;\n    if (score > -4) return centers.highNegative;\n    return centers.negative;\n  };\n\n  // 处理鼠标悬停事件\n  const handleMouseOver = (event, flower) => {\n    setTooltipData(flower);\n    const {\n      clientX,\n      clientY\n    } = event;\n    setTooltipPosition({\n      x: clientX,\n      y: clientY\n    });\n  };\n\n  // 处理鼠标移动事件\n  const handleMouseMove = event => {\n    const {\n      clientX,\n      clientY\n    } = event;\n    setTooltipPosition({\n      x: clientX,\n      y: clientY\n    });\n  };\n\n  // 处理鼠标离开事件\n  const handleMouseOut = () => {\n    setTooltipData(null);\n  };\n\n  // 绘制花朵\n  useEffect(() => {\n    if (!svgRef.current || !dimensions || !dimensions.width || !flowerData.length) return;\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n    const viewboxWidth = dimensions.width;\n\n    // {{根据宽度和 3:4 宽高比计算 viewBox 高度}}\n    const viewboxHeight = viewboxWidth * (4 / 3);\n    svg.attr(\"viewBox\", `0 0 ${viewboxWidth} ${viewboxHeight}`).attr(\"width\", \"100%\")\n    // {{移除 height=\"100%\"，让 viewBox 和 width 控制高度}}\n    // .attr(\"height\", \"100%\") \n    .style(\"display\", \"block\");\n    const currentThemeColors = colorThemes[currentTheme].colors;\n\n    // {{将基于 3:4 比例计算的尺寸传递给绘图函数}}\n    const drawDimensions = {\n      width: viewboxWidth,\n      height: viewboxHeight\n    };\n    if (isRandomView) {\n      drawRandomFlowers(svg, flowerData, drawDimensions, currentThemeColors);\n    } else {\n      // {{调用修正后的 drawCalendarFlowers}}\n      drawCalendarFlowers(svg, flowerData, drawDimensions, currentThemeColors);\n    }\n\n    // 依赖项保持不变\n  }, [flowerData, dimensions.width, isRandomView, currentTheme]);\n\n  // {{修改函数签名以接收 themeColors}}\n  const drawRandomFlowers = (svg, flowers, {\n    width,\n    height\n  }, themeColors) => {\n    // 创建花朵和绿叶容器\n    const flowerContainer = svg.append(\"g\").attr(\"class\", \"flower-container\");\n\n    // 添加背景绿叶 - 逐步恢复\n    const leafCount = Math.min(flowers.length * 1.2, 250);\n    for (let i = 0; i < leafCount; i++) {\n      var _themeColors$leaf;\n      // {{恢复原始 x, y 计算 (带边距)}}\n      const x = Math.random() * width * 0.95 + width * 0.05;\n      const y = Math.random() * height * 0.95 + height * 0.05;\n      const size = Math.random() * 15 + 10;\n      const opacity = Math.random() * 0.3 + 0.5;\n      // {{恢复 rotation 计算}}\n      const rotation = Math.random() * 360;\n      const leafG = flowerContainer.append(\"g\").attr(\"transform\", `translate(${x}, ${y})`); // 保持G元素只有 translate\n\n      leafG.append(\"path\").attr(\"d\", Utils.generateLeaf(size)).attr(\"fill\", ((_themeColors$leaf = themeColors.leaf) === null || _themeColors$leaf === void 0 ? void 0 : _themeColors$leaf.color) || \"#C1D9B3\").attr(\"opacity\", opacity)\n      // {{恢复 path 元素的 rotate transform}}\n      .attr(\"transform\", `rotate(${rotation})`);\n    }\n\n    // 随机分布花朵 - 使用传入的 width 和 height\n    flowers.forEach((flower, i) => {\n      // 使用传入的 dimensions 计算 x, y\n      const x = Math.random() * width * 0.8 + width * 0.1;\n      const y = Math.random() * height * 0.8 + height * 0.1;\n      const flowerG = flowerContainer.append(\"g\").attr(\"class\", \"flower-base\").attr(\"transform\", `translate(${x}, ${y})`); // 使用新的 x, y\n\n      // -------- Start: 添加缺失的花朵绘制代码 --------\n      // 添加动画层 - 使用更细微的动画\n      const animationLayer = flowerG.append(\"g\").attr(\"class\", `gentle-float${Math.floor(Math.random() * 4)}`).style(\"animation-delay\", `${Math.random() * 2}s`);\n\n      // 绘制花瓣 - 调整大小\n      const size = SizeConfig.calculateFlowerSize(flower.score, true) * 0.9; // 稍微缩小花朵\n      const petals = Array.from({\n        length: 8\n      }, (_, j) => {\n        // 假设8个花瓣\n        const angle = j * 45;\n        return `\n            <path d=\"${Utils.generatePetal(size)}\" \n                  fill=\"${getColor(flower.score)}\"\n                  transform=\"rotate(${angle})\"\n                  opacity=\"${flower.score === 0 ? '0.85' : '0.95'}\"/>\n          `;\n      }).join('');\n      animationLayer.html(petals);\n\n      // 添加花芯\n      animationLayer.append(\"circle\").attr(\"r\", size * SizeConfig.flower.centerRatio).attr(\"fill\", getFlowerCenterColor(flower.score)).attr(\"stroke\", \"#FFCDB2\") // 或使用 themeColors 相关颜色\n      .attr(\"stroke-width\", flower.score === 0 ? 1.5 : 1.2);\n      // -------- End: 添加缺失的花朵绘制代码 --------\n\n      // 添加事件处理\n      flowerG.on(\"mouseover\", event => handleMouseOver(event, flower)).on(\"mousemove\", handleMouseMove).on(\"mouseout\", handleMouseOut).style(\"cursor\", \"pointer\").style(\"transition\", \"transform 0.2s ease\").on(\"mouseenter\", function () {\n        // 事件处理保持不变\n        d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1.15)`); // 确保使用更新后的 x, y\n      }).on(\"mouseleave\", function () {\n        // 事件处理保持不变\n        d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1)`); // 确保使用更新后的 x, y\n      });\n    });\n  };\n\n  // 绘制背景绿叶\n  const drawBackgroundLeaves = (container, centerX, centerY) => {\n    const leafCount = Math.floor(flowerData.length * 1.8);\n    const width = SizeConfig.base.width;\n    const height = SizeConfig.calculateContainerHeight();\n    const titlePadding = SizeConfig.base.titlePadding;\n\n    // 利用整个容器空间\n    const usableWidth = width * 0.8;\n    const usableHeight = height - titlePadding * 1.5;\n    const marginX = (width - usableWidth) / 2;\n    const marginY = titlePadding + 20;\n    const leaves = Array.from({\n      length: leafCount\n    }, (_, i) => {\n      return {\n        x: marginX + Math.random() * usableWidth,\n        y: marginY + Math.random() * usableHeight,\n        size: 12 + Math.random() * 20,\n        angle: Math.random() * 360,\n        id: i\n      };\n    });\n    const leafGroup = container.append(\"g\").attr(\"class\", \"leaf-group\");\n    leaves.forEach(leaf => {\n      const leafColors = [\"rgba(76, 175, 80, 0.6)\", \"rgba(67, 160, 71, 0.5)\", \"rgba(56, 142, 60, 0.4)\", \"rgba(46, 125, 50, 0.3)\"];\n      const leafG = leafGroup.append(\"g\").attr(\"class\", \"leaf-base\").attr(\"transform\", `translate(${leaf.x}, ${leaf.y})`);\n      const leafAnimLayer = leafG.append(\"g\").attr(\"class\", `floating floating${Math.floor(Math.random() * 8 + 1)}`).style(\"animation-delay\", `${Math.random() * 3}s`).style(\"animation-duration\", `${7 + Math.random() * 4}s`);\n      leafAnimLayer.append(\"path\").attr(\"d\", Utils.generateLeaf(leaf.size)).attr(\"fill\", leafColors[Math.floor(Math.random() * leafColors.length)]).attr(\"transform\", `rotate(${leaf.angle})`).attr(\"opacity\", 0.5 + Math.random() * 0.3);\n    });\n  };\n\n  // 绘制花瓣\n  const drawFlowerPetals = (container, flower) => {\n    const size = SizeConfig.calculateFlowerSize(flower.score, true);\n    const petals = Array.from({\n      length: SizeConfig.flower.petalCount\n    }, (_, j) => {\n      const angle = j * (360 / SizeConfig.flower.petalCount);\n      return `\n        <path d=\"${Utils.generatePetal(size)}\" \n              fill=\"${getColor(flower.score)}\"\n              transform=\"rotate(${angle})\"\n              opacity=\"${flower.score === 0 ? '0.95' : '1'}\"\n            ${flower.score === 0 ? 'stroke=\"#AAA\" stroke-width=\"0.5\"' : ''}/>\n      `;\n    }).join('');\n\n    // 添加花瓣到动画层\n    container.html(petals);\n\n    // 添加花芯\n    container.append(\"circle\").attr(\"r\", size * SizeConfig.flower.centerRatio).attr(\"fill\", getFlowerCenterColor(flower.score)).attr(\"stroke\", \"#FFCDB2\").attr(\"stroke-width\", 1.5);\n  };\n\n  // 绘制日历视图的花朵\n  // {{修正函数签名，接收 dimensions 和 themeColors}}\n  const drawCalendarFlowers = (svg, flowers, {\n    width,\n    height\n  }, themeColors) => {\n    // {{移除内部获取 width/height 的代码}}\n    // const width = SizeConfig.base.width; \n    // const height = SizeConfig.calculateContainerHeight(); \n    const titlePadding = SizeConfig.base.titlePadding; // 可以保留用于相对定位，或用固定值\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\n    // {{使用传入的 width 和 height 计算布局}}\n    const leftMargin = width * 0.1;\n    const topMargin = 80; // 固定顶部边距用于月份标签等\n    const bottomMargin = height * 0.05;\n    const rightMargin = width * 0.05;\n    const usableWidth = width - leftMargin - rightMargin;\n    const usableHeight = height - topMargin - bottomMargin; // 可用绘图高度\n\n    const monthWidth = usableWidth / 12;\n    const startY = topMargin;\n    // {{根据可用高度计算日期间距，或者使用一个固定的较小值}}\n    const daySpacing = usableHeight / 31;\n    // 或者 const daySpacing = 20; // 使用一个较小固定值尝试适应 3:4 比例\n\n    // 添加背景网格辅助线\n    const gridGroup = svg.append(\"g\").attr(\"class\", \"grid-lines\");\n\n    // 月份分隔线 (使用新的尺寸和边距)\n    for (let i = 0; i <= 12; i++) {\n      gridGroup.append(\"line\").attr(\"class\", \"grid-line\").attr(\"x1\", leftMargin + i * monthWidth).attr(\"y1\", topMargin - 20) // 相对 topMargin 定位\n      .attr(\"x2\", leftMargin + i * monthWidth).attr(\"y2\", topMargin + 31 * daySpacing) // 使用计算出的总高度\n      .style(\"stroke\", \"rgba(0,0,0,0.05)\").style(\"stroke-width\", i % 3 === 0 ? 1 : 0.5).style(\"stroke-dasharray\", i % 3 === 0 ? \"none\" : \"3,3\");\n    }\n\n    // 每5天的水平分隔线\n    for (let i = 0; i <= 31; i += 5) {\n      gridGroup.append(\"line\").attr(\"class\", \"grid-line\").attr(\"x1\", leftMargin - 10).attr(\"y1\", topMargin + i * daySpacing).attr(\"x2\", leftMargin + 12 * monthWidth + 10) // 稍微延伸出区域\n      .attr(\"y2\", topMargin + i * daySpacing); // 使用新的 topMargin 和 daySpacing\n      // ... 样式 ...\n    }\n\n    // 添加月份标签 (使用新的尺寸和边距)\n    months.forEach((month, i) => {\n      const x = leftMargin + i * monthWidth + monthWidth / 2;\n      svg.append(\"text\").attr(\"x\", x).attr(\"y\", startY - 30) // 调整Y坐标\n      .attr(\"class\", \"month-text\").attr(\"text-anchor\", \"middle\").style(\"font-family\", \"'Montserrat', sans-serif\").style(\"font-size\", \"15px\").style(\"font-weight\", \"800\").style(\"opacity\", \"0.9\").style(\"fill\", themeColors.text.secondary) // {{使用传入的 themeColors}}\n      .text(month);\n    });\n\n    // 添加日期标签 (使用新的尺寸和边距)\n    for (let day = 1; day <= 31; day++) {\n      const formattedDay = day < 10 ? `0${day}` : `${day}`;\n      svg.append(\"text\").attr(\"x\", leftMargin - 30).attr(\"y\", startY + (day - 1) * daySpacing) // 使用新的 startY 和 daySpacing\n      // ... 其他属性 ...\n      .style(\"fill\", themeColors.text.secondary) // {{使用传入的 themeColors}}\n      .style(\"font-size\", \"14px\").style(\"font-weight\", \"500\").text(formattedDay);\n    }\n\n    // 创建花朵 (使用新的尺寸和边距)\n    flowers.forEach(flower => {\n      const x = leftMargin + (flower.month - 1) * monthWidth + monthWidth / 2;\n      const y = startY + (flower.day - 1) * daySpacing; // 使用新的 startY 和 daySpacing\n\n      const flowerG = svg.append(\"g\").attr(\"class\", \"flower\").attr(\"transform\", `translate(${x},${y})`);\n\n      // {{ 使用全局的 getColor 和 getFlowerCenterColor，以及 SizeConfig 计算大小 }}\n      // {{ 注意：这里的花朵大小计算仍然是固定的，可根据需要调整 }}\n      const size = SizeConfig.calculateFlowerSize(flower.score, false) * 0.8;\n      const petals = Array.from({\n        length: 8\n      }, (_, i) => {\n        const angle = i * 45;\n        return `\n          <path d=\"${Utils.generatePetal(size)}\" \n                fill=\"${getColor(flower.score)}\" \n                transform=\"rotate(${angle})\"\n                opacity=\"${flower.score === 0 ? '0.85' : '0.95'}\"/>\n        `;\n      }).join('');\n      flowerG.html(petals);\n      flowerG.append(\"circle\").attr(\"r\", size * SizeConfig.flower.centerRatio).attr(\"fill\", getFlowerCenterColor(flower.score)) // {{使用全局函数}}\n      .attr(\"stroke\", \"#FFCDB2\").attr(\"stroke-width\", flower.score === 0 ? 1.5 : 1.2);\n\n      // 添加事件处理 (不变, 但坐标 x, y 已更新)\n      flowerG.on(\"mouseover\", event => handleMouseOver(event, flower)).on(\"mousemove\", handleMouseMove).on(\"mouseout\", handleMouseOut).style(\"cursor\", \"pointer\").style(\"transition\", \"transform 0.2s ease\").on(\"mouseenter\", function () {\n        d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1.15)`);\n      }).on(\"mouseleave\", function () {\n        d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1)`);\n      });\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(SVGContainer, {\n    theme: themeColors,\n    ref: containerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      ref: svgRef,\n      width: \"100%\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this), tooltipData && /*#__PURE__*/_jsxDEV(Tooltip, {\n      data: tooltipData,\n      position: tooltipPosition,\n      themeColors: themeColors,\n      getColor: getColor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 5\n  }, this);\n};\n_s(FlowerView, \"pWeZdnX9vq0AhJf89hy6R7otN9E=\");\n_c2 = FlowerView;\nexport default FlowerView;\nvar _c, _c2;\n$RefreshReg$(_c, \"SVGContainer\");\n$RefreshReg$(_c2, \"FlowerView\");","map":{"version":3,"names":["React","useRef","useEffect","useState","styled","d3","colorThemes","SizeConfig","Utils","Tooltip","jsxDEV","_jsxDEV","SVGContainer","div","_c","FlowerView","flowerData","isRandomView","currentTheme","dimensions","width","height","setDimensions","selectedFlower","setSelectedFlower","_s","svgRef","containerRef","tooltipData","setTooltipData","tooltipPosition","setTooltipPosition","x","y","current","updateDimensions","getBoundingClientRect","resizeObserver","ResizeObserver","observe","unobserve","themeColors","colors","getColorScale","theme","scaleLinear","domain","range","petals","negative","neutral","positive","interpolate","interpolateHcl","getColor","score","getFlowerCenterColor","centers","highPositive","lowPositive","lowNegative","highNegative","handleMouseOver","event","flower","clientX","clientY","handleMouseMove","handleMouseOut","length","svg","select","selectAll","remove","viewboxWidth","viewboxHeight","attr","style","currentThemeColors","drawDimensions","drawRandomFlowers","drawCalendarFlowers","flowers","flowerContainer","append","leafCount","Math","min","i","_themeColors$leaf","random","size","opacity","rotation","leafG","generateLeaf","leaf","color","forEach","flowerG","animationLayer","floor","calculateFlowerSize","Array","from","_","j","angle","generatePetal","join","html","centerRatio","on","transition","drawBackgroundLeaves","container","centerX","centerY","base","calculateContainerHeight","titlePadding","usableWidth","usableHeight","marginX","marginY","leaves","id","leafGroup","leafColors","leafAnimLayer","drawFlowerPetals","petalCount","months","leftMargin","topMargin","bottomMargin","rightMargin","monthWidth","startY","daySpacing","gridGroup","month","text","secondary","day","formattedDay","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","data","position","_c2","$RefreshReg$"],"sources":["/Users/wyl/Documents/GitHub/DataViz Portfolio/mood-garden-viz/src/components/FlowerView.js"],"sourcesContent":["import React, { useRef, useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport * as d3 from 'd3';\nimport { colorThemes } from '../utils/themes';\nimport { SizeConfig } from '../utils/sizeConfig';\nimport { Utils } from '../utils/flowerUtils';\nimport Tooltip from './Tooltip';\n\nconst SVGContainer = styled.div`\n  // {{移除 position, left, top, height, display}}\n  // position: absolute; \n  // left: 0;\n  // top: 0;\n  // height: 100%; \n  // display: flex;\n  // flex-direction: column;\n  width: 100%; // {{保留 width}}\n`;\n\nconst FlowerView = ({ \n  flowerData, \n  isRandomView, \n  currentTheme, \n  dimensions = { width: 0, height: 0 }, // 添加默认值\n  setDimensions, // 添加 setDimensions 到 props\n  selectedFlower,\n  setSelectedFlower\n}) => {\n  const svgRef = useRef(null);\n  const containerRef = useRef(null); // Ref is attached to SVGContainer\n  const [tooltipData, setTooltipData] = useState(null);\n  const [tooltipPosition, setTooltipPosition] = useState({ x: 0, y: 0 });\n  \n  // 添加尺寸计算逻辑\n  useEffect(() => {\n    if (!containerRef.current) return; // Checks the ref for the inner container\n    \n    const updateDimensions = () => {\n      if (containerRef.current) { // Uses the ref for the inner container\n        const { width, height } = containerRef.current.getBoundingClientRect();\n        if (width !== dimensions.width || height !== dimensions.height) {\n          if (typeof setDimensions === 'function') {\n            setDimensions({ width, height });\n          }\n        }\n      }\n    };\n    \n    updateDimensions();\n    \n    const resizeObserver = new ResizeObserver(updateDimensions);\n    resizeObserver.observe(containerRef.current); // Observes the inner container\n    \n    return () => {\n      if (containerRef.current) {\n        resizeObserver.unobserve(containerRef.current);\n      }\n    };\n  }, []);\n  \n  // 获取当前主题颜色\n  const themeColors = colorThemes[currentTheme].colors;\n  \n  // 获取颜色比例尺\n  const getColorScale = () => {\n    const theme = colorThemes[currentTheme];\n    return d3.scaleLinear()\n      .domain([-5, -2.5, 0, 2.5, 5])\n      .range([\n        theme.colors.petals.negative[0],\n        theme.colors.petals.negative[2],\n        theme.colors.petals.neutral,\n        theme.colors.petals.positive[2],\n        theme.colors.petals.positive[0]\n      ])\n      .interpolate(d3.interpolateHcl);\n  };\n  \n  // 获取花朵颜色\n  const getColor = (score) => {\n    return getColorScale()(score);\n  };\n  \n  // 获取花芯颜色\n  const getFlowerCenterColor = (score) => {\n    const centers = themeColors.centers;\n    \n    if (score >= 4) return centers.positive;\n    if (score >= 2) return centers.highPositive;\n    if (score > 0) return centers.lowPositive;\n    if (score === 0) return centers.neutral;\n    if (score > -2) return centers.lowNegative;\n    if (score > -4) return centers.highNegative;\n    return centers.negative;\n  };\n\n  // 处理鼠标悬停事件\n  const handleMouseOver = (event, flower) => {\n    setTooltipData(flower);\n    const { clientX, clientY } = event;\n    setTooltipPosition({ x: clientX, y: clientY });\n  };\n\n  // 处理鼠标移动事件\n  const handleMouseMove = (event) => {\n    const { clientX, clientY } = event;\n    setTooltipPosition({ x: clientX, y: clientY });\n  };\n\n  // 处理鼠标离开事件\n  const handleMouseOut = () => {\n    setTooltipData(null);\n  };\n\n  // 绘制花朵\n  useEffect(() => {\n    if (!svgRef.current || !dimensions || !dimensions.width || !flowerData.length) return;\n\n    const svg = d3.select(svgRef.current);\n    svg.selectAll(\"*\").remove();\n\n    const viewboxWidth = dimensions.width; \n    \n    // {{根据宽度和 3:4 宽高比计算 viewBox 高度}}\n    const viewboxHeight = viewboxWidth * (4 / 3); \n\n    svg.attr(\"viewBox\", `0 0 ${viewboxWidth} ${viewboxHeight}`) \n       .attr(\"width\", \"100%\") \n       // {{移除 height=\"100%\"，让 viewBox 和 width 控制高度}}\n       // .attr(\"height\", \"100%\") \n       .style(\"display\", \"block\"); \n        \n    const currentThemeColors = colorThemes[currentTheme].colors; \n\n    // {{将基于 3:4 比例计算的尺寸传递给绘图函数}}\n    const drawDimensions = { width: viewboxWidth, height: viewboxHeight };\n\n    if (isRandomView) {\n      drawRandomFlowers(svg, flowerData, drawDimensions, currentThemeColors); \n    } else {\n      // {{调用修正后的 drawCalendarFlowers}}\n      drawCalendarFlowers(svg, flowerData, drawDimensions, currentThemeColors); \n    }\n\n  // 依赖项保持不变\n  }, [flowerData, dimensions.width, isRandomView, currentTheme]); \n\n  // {{修改函数签名以接收 themeColors}}\n  const drawRandomFlowers = (svg, flowers, { width, height }, themeColors) => { \n      \n      // 创建花朵和绿叶容器\n      const flowerContainer = svg.append(\"g\")\n        .attr(\"class\", \"flower-container\");\n        \n      // 添加背景绿叶 - 逐步恢复\n      const leafCount = Math.min(flowers.length * 1.2, 250);\n      for (let i = 0; i < leafCount; i++) {\n        // {{恢复原始 x, y 计算 (带边距)}}\n        const x = Math.random() * width * 0.95 + width * 0.05; \n        const y = Math.random() * height * 0.95 + height * 0.05; \n        const size = Math.random() * 15 + 10; \n        const opacity = Math.random() * 0.3 + 0.5; \n        // {{恢复 rotation 计算}}\n        const rotation = Math.random() * 360; \n        \n        const leafG = flowerContainer.append(\"g\")\n          .attr(\"transform\", `translate(${x}, ${y})`); // 保持G元素只有 translate\n          \n        leafG.append(\"path\")\n          .attr(\"d\", Utils.generateLeaf(size)) \n          .attr(\"fill\", themeColors.leaf?.color || \"#C1D9B3\") \n          .attr(\"opacity\", opacity)\n          // {{恢复 path 元素的 rotate transform}}\n          .attr(\"transform\", `rotate(${rotation})`); \n      }\n      \n      // 随机分布花朵 - 使用传入的 width 和 height\n      flowers.forEach((flower, i) => {\n        // 使用传入的 dimensions 计算 x, y\n        const x = Math.random() * width * 0.8 + width * 0.1;\n        const y = Math.random() * height * 0.8 + height * 0.1;\n        \n        const flowerG = flowerContainer.append(\"g\")\n          .attr(\"class\", \"flower-base\")\n          .attr(\"transform\", `translate(${x}, ${y})`); // 使用新的 x, y\n        \n        // -------- Start: 添加缺失的花朵绘制代码 --------\n        // 添加动画层 - 使用更细微的动画\n        const animationLayer = flowerG.append(\"g\")\n          .attr(\"class\", `gentle-float${Math.floor(Math.random() * 4 )}`)\n          .style(\"animation-delay\", `${Math.random() * 2}s`);\n\n        // 绘制花瓣 - 调整大小\n        const size = SizeConfig.calculateFlowerSize(flower.score, true) * 0.9; // 稍微缩小花朵\n        const petals = Array.from({length: 8}, (_, j) => { // 假设8个花瓣\n          const angle = j * 45;\n          return `\n            <path d=\"${Utils.generatePetal(size)}\" \n                  fill=\"${getColor(flower.score)}\"\n                  transform=\"rotate(${angle})\"\n                  opacity=\"${flower.score === 0 ? '0.85' : '0.95'}\"/>\n          `;\n        }).join('');\n        \n        animationLayer.html(petals);\n        \n        // 添加花芯\n        animationLayer.append(\"circle\")\n          .attr(\"r\", size * SizeConfig.flower.centerRatio)\n          .attr(\"fill\", getFlowerCenterColor(flower.score))\n          .attr(\"stroke\", \"#FFCDB2\") // 或使用 themeColors 相关颜色\n          .attr(\"stroke-width\", flower.score === 0 ? 1.5 : 1.2);\n        // -------- End: 添加缺失的花朵绘制代码 --------\n\n        // 添加事件处理\n        flowerG\n          .on(\"mouseover\", (event) => handleMouseOver(event, flower))\n          .on(\"mousemove\", handleMouseMove)\n          .on(\"mouseout\", handleMouseOut)\n          .style(\"cursor\", \"pointer\")\n          .style(\"transition\", \"transform 0.2s ease\")\n          .on(\"mouseenter\", function() { // 事件处理保持不变\n            d3.select(this).transition()\n              .attr(\"transform\", `translate(${x},${y}) scale(1.15)`); // 确保使用更新后的 x, y\n          })\n          .on(\"mouseleave\", function() { // 事件处理保持不变\n            d3.select(this).transition()\n              .attr(\"transform\", `translate(${x},${y}) scale(1)`); // 确保使用更新后的 x, y\n          });\n      });\n    };\n\n  // 绘制背景绿叶\n  const drawBackgroundLeaves = (container, centerX, centerY) => {\n    const leafCount = Math.floor(flowerData.length * 1.8);\n    const width = SizeConfig.base.width;\n    const height = SizeConfig.calculateContainerHeight();\n    const titlePadding = SizeConfig.base.titlePadding;\n    \n    // 利用整个容器空间\n    const usableWidth = width * 0.8;\n    const usableHeight = height - titlePadding * 1.5;\n    const marginX = (width - usableWidth) / 2;\n    const marginY = titlePadding + 20;\n  \n    const leaves = Array.from({length: leafCount}, (_, i) => {\n      return {\n        x: marginX + Math.random() * usableWidth,\n        y: marginY + Math.random() * usableHeight,\n        size: 12 + Math.random() * 20,\n        angle: Math.random() * 360,\n        id: i\n      };\n    });\n      \n    const leafGroup = container.append(\"g\")\n      .attr(\"class\", \"leaf-group\");\n      \n    leaves.forEach(leaf => {\n      const leafColors = [\n        \"rgba(76, 175, 80, 0.6)\",\n        \"rgba(67, 160, 71, 0.5)\",\n        \"rgba(56, 142, 60, 0.4)\",\n        \"rgba(46, 125, 50, 0.3)\"\n      ];\n      \n      const leafG = leafGroup.append(\"g\")\n        .attr(\"class\", \"leaf-base\")\n        .attr(\"transform\", `translate(${leaf.x}, ${leaf.y})`);\n        \n      const leafAnimLayer = leafG.append(\"g\")\n        .attr(\"class\", `floating floating${Math.floor(Math.random() * 8 + 1)}`)\n        .style(\"animation-delay\", `${Math.random() * 3}s`)\n        .style(\"animation-duration\", `${7 + Math.random() * 4}s`);\n        \n      leafAnimLayer.append(\"path\")\n        .attr(\"d\", Utils.generateLeaf(leaf.size))\n        .attr(\"fill\", leafColors[Math.floor(Math.random() * leafColors.length)])\n        .attr(\"transform\", `rotate(${leaf.angle})`)\n        .attr(\"opacity\", 0.5 + Math.random() * 0.3);\n    });\n  };\n\n  // 绘制花瓣\n  const drawFlowerPetals = (container, flower) => {\n    const size = SizeConfig.calculateFlowerSize(flower.score, true);\n    const petals = Array.from({length: SizeConfig.flower.petalCount}, (_, j) => {\n      const angle = j * (360 / SizeConfig.flower.petalCount);\n      return `\n        <path d=\"${Utils.generatePetal(size)}\" \n              fill=\"${getColor(flower.score)}\"\n              transform=\"rotate(${angle})\"\n              opacity=\"${flower.score === 0 ? '0.95' : '1'}\"\n            ${flower.score === 0 ? 'stroke=\"#AAA\" stroke-width=\"0.5\"' : ''}/>\n      `;\n    }).join('');\n    \n    // 添加花瓣到动画层\n    container.html(petals);\n    \n    // 添加花芯\n    container.append(\"circle\")\n      .attr(\"r\", size * SizeConfig.flower.centerRatio)\n      .attr(\"fill\", getFlowerCenterColor(flower.score))\n      .attr(\"stroke\", \"#FFCDB2\")\n      .attr(\"stroke-width\", 1.5);\n  };\n\n  // 绘制日历视图的花朵\n  // {{修正函数签名，接收 dimensions 和 themeColors}}\n  const drawCalendarFlowers = (svg, flowers, { width, height }, themeColors) => {\n    // {{移除内部获取 width/height 的代码}}\n    // const width = SizeConfig.base.width; \n    // const height = SizeConfig.calculateContainerHeight(); \n    const titlePadding = SizeConfig.base.titlePadding; // 可以保留用于相对定位，或用固定值\n    const months = [\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n    \n    // {{使用传入的 width 和 height 计算布局}}\n    const leftMargin = width * 0.1;\n    const topMargin = 80; // 固定顶部边距用于月份标签等\n    const bottomMargin = height * 0.05;\n    const rightMargin = width * 0.05; \n    \n    const usableWidth = width - leftMargin - rightMargin;\n    const usableHeight = height - topMargin - bottomMargin; // 可用绘图高度\n    \n    const monthWidth = usableWidth / 12;\n    const startY = topMargin;\n    // {{根据可用高度计算日期间距，或者使用一个固定的较小值}}\n    const daySpacing = usableHeight / 31; \n    // 或者 const daySpacing = 20; // 使用一个较小固定值尝试适应 3:4 比例\n    \n    // 添加背景网格辅助线\n    const gridGroup = svg.append(\"g\").attr(\"class\", \"grid-lines\");\n    \n    // 月份分隔线 (使用新的尺寸和边距)\n    for (let i = 0; i <= 12; i++) {\n        gridGroup.append(\"line\")\n          .attr(\"class\", \"grid-line\")\n          .attr(\"x1\", leftMargin + i * monthWidth )\n          .attr(\"y1\", topMargin - 20) // 相对 topMargin 定位\n          .attr(\"x2\", leftMargin + i * monthWidth )\n          .attr(\"y2\", topMargin + 31 * daySpacing) // 使用计算出的总高度\n          .style(\"stroke\", \"rgba(0,0,0,0.05)\")\n          .style(\"stroke-width\", i % 3 === 0 ? 1 : 0.5)\n          .style(\"stroke-dasharray\", i % 3 === 0 ? \"none\" : \"3,3\");\n    }\n    \n    // 每5天的水平分隔线\n    for (let i = 0; i <= 31; i += 5) {\n      gridGroup.append(\"line\")\n        .attr(\"class\", \"grid-line\")\n        .attr(\"x1\", leftMargin - 10)\n        .attr(\"y1\", topMargin + i * daySpacing)\n        .attr(\"x2\", leftMargin + 12 * monthWidth + 10) // 稍微延伸出区域\n        .attr(\"y2\", topMargin + i * daySpacing) // 使用新的 topMargin 和 daySpacing\n           // ... 样式 ...\n    }\n    \n    // 添加月份标签 (使用新的尺寸和边距)\n    months.forEach((month, i) => {\n      const x = leftMargin + i * monthWidth + (monthWidth / 2);\n      svg.append(\"text\")\n        .attr(\"x\", x)\n        .attr(\"y\", startY - 30) // 调整Y坐标\n        .attr(\"class\", \"month-text\")\n        .attr(\"text-anchor\", \"middle\")\n        .style(\"font-family\", \"'Montserrat', sans-serif\")\n        .style(\"font-size\", \"15px\")\n        .style(\"font-weight\", \"800\")\n        .style(\"opacity\", \"0.9\")\n        .style(\"fill\", themeColors.text.secondary) // {{使用传入的 themeColors}}\n        .text(month);\n    });\n    \n    // 添加日期标签 (使用新的尺寸和边距)\n    for (let day = 1; day <= 31; day++) {\n      const formattedDay = day < 10 ? `0${day}` : `${day}`;\n      svg.append(\"text\")\n        .attr(\"x\", leftMargin - 30)\n        .attr(\"y\", startY + (day - 1) * daySpacing) // 使用新的 startY 和 daySpacing\n           // ... 其他属性 ...\n        .style(\"fill\", themeColors.text.secondary) // {{使用传入的 themeColors}}\n        .style(\"font-size\", \"14px\")\n        .style(\"font-weight\", \"500\")\n        .text(formattedDay);\n    }\n\n    // 创建花朵 (使用新的尺寸和边距)\n    flowers.forEach(flower => {\n      const x = leftMargin + (flower.month - 1) * monthWidth + (monthWidth / 2); \n      const y = startY + (flower.day - 1) * daySpacing; // 使用新的 startY 和 daySpacing\n      \n      const flowerG = svg.append(\"g\")\n        .attr(\"class\", \"flower\")\n        .attr(\"transform\", `translate(${x},${y})`);\n      \n      // {{ 使用全局的 getColor 和 getFlowerCenterColor，以及 SizeConfig 计算大小 }}\n      // {{ 注意：这里的花朵大小计算仍然是固定的，可根据需要调整 }}\n      const size = SizeConfig.calculateFlowerSize(flower.score, false) * 0.8; \n      const petals = Array.from({length: 8}, (_, i) => {\n        const angle = i * 45;\n        return `\n          <path d=\"${Utils.generatePetal(size)}\" \n                fill=\"${getColor(flower.score)}\" \n                transform=\"rotate(${angle})\"\n                opacity=\"${flower.score === 0 ? '0.85' : '0.95'}\"/>\n        `;\n      }).join('');\n      \n      flowerG.html(petals);\n      \n      flowerG.append(\"circle\")\n        .attr(\"r\", size * SizeConfig.flower.centerRatio)\n        .attr(\"fill\", getFlowerCenterColor(flower.score)) // {{使用全局函数}}\n        .attr(\"stroke\", \"#FFCDB2\") \n        .attr(\"stroke-width\", flower.score === 0 ? 1.5 : 1.2);\n      \n      // 添加事件处理 (不变, 但坐标 x, y 已更新)\n      flowerG\n        .on(\"mouseover\", (event) => handleMouseOver(event, flower))\n        .on(\"mousemove\", handleMouseMove)\n        .on(\"mouseout\", handleMouseOut)\n        .style(\"cursor\", \"pointer\")\n        .style(\"transition\", \"transform 0.2s ease\")\n        .on(\"mouseenter\", function() {\n          d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1.15)`);\n        })\n        .on(\"mouseleave\", function() {\n          d3.select(this).transition().attr(\"transform\", `translate(${x},${y}) scale(1)`);\n        });\n    });\n  };\n\n  return (\n    <SVGContainer theme={themeColors} ref={containerRef}> \n      {/* {{ 移除 SVG 上的 height=\"100%\" }} */}\n      <svg ref={svgRef} width=\"100%\" /> \n      {tooltipData && (\n        <Tooltip \n          data={tooltipData} \n          position={tooltipPosition}\n          themeColors={themeColors}\n          getColor={getColor}\n        />\n      )}\n    </SVGContainer>\n  );\n};\n\nexport default FlowerView;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC1D,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAO,KAAKC,EAAE,MAAM,IAAI;AACxB,SAASC,WAAW,QAAQ,iBAAiB;AAC7C,SAASC,UAAU,QAAQ,qBAAqB;AAChD,SAASC,KAAK,QAAQ,sBAAsB;AAC5C,OAAOC,OAAO,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhC,MAAMC,YAAY,GAAGR,MAAM,CAACS,GAAG;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AAACC,EAAA,GATIF,YAAY;AAWlB,MAAMG,UAAU,GAAGA,CAAC;EAClBC,UAAU;EACVC,YAAY;EACZC,YAAY;EACZC,UAAU,GAAG;IAAEC,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC;EAAE;EACtCC,aAAa;EAAE;EACfC,cAAc;EACdC;AACF,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAMC,MAAM,GAAGzB,MAAM,CAAC,IAAI,CAAC;EAC3B,MAAM0B,YAAY,GAAG1B,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;EACnC,MAAM,CAAC2B,WAAW,EAAEC,cAAc,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAAC2B,eAAe,EAAEC,kBAAkB,CAAC,GAAG5B,QAAQ,CAAC;IAAE6B,CAAC,EAAE,CAAC;IAAEC,CAAC,EAAE;EAAE,CAAC,CAAC;;EAEtE;EACA/B,SAAS,CAAC,MAAM;IACd,IAAI,CAACyB,YAAY,CAACO,OAAO,EAAE,OAAO,CAAC;;IAEnC,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;MAC7B,IAAIR,YAAY,CAACO,OAAO,EAAE;QAAE;QAC1B,MAAM;UAAEd,KAAK;UAAEC;QAAO,CAAC,GAAGM,YAAY,CAACO,OAAO,CAACE,qBAAqB,CAAC,CAAC;QACtE,IAAIhB,KAAK,KAAKD,UAAU,CAACC,KAAK,IAAIC,MAAM,KAAKF,UAAU,CAACE,MAAM,EAAE;UAC9D,IAAI,OAAOC,aAAa,KAAK,UAAU,EAAE;YACvCA,aAAa,CAAC;cAAEF,KAAK;cAAEC;YAAO,CAAC,CAAC;UAClC;QACF;MACF;IACF,CAAC;IAEDc,gBAAgB,CAAC,CAAC;IAElB,MAAME,cAAc,GAAG,IAAIC,cAAc,CAACH,gBAAgB,CAAC;IAC3DE,cAAc,CAACE,OAAO,CAACZ,YAAY,CAACO,OAAO,CAAC,CAAC,CAAC;;IAE9C,OAAO,MAAM;MACX,IAAIP,YAAY,CAACO,OAAO,EAAE;QACxBG,cAAc,CAACG,SAAS,CAACb,YAAY,CAACO,OAAO,CAAC;MAChD;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMO,WAAW,GAAGnC,WAAW,CAACY,YAAY,CAAC,CAACwB,MAAM;;EAEpD;EACA,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,MAAMC,KAAK,GAAGtC,WAAW,CAACY,YAAY,CAAC;IACvC,OAAOb,EAAE,CAACwC,WAAW,CAAC,CAAC,CACpBC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC,EAAE,GAAG,EAAE,CAAC,CAAC,CAAC,CAC7BC,KAAK,CAAC,CACLH,KAAK,CAACF,MAAM,CAACM,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAC,EAC/BL,KAAK,CAACF,MAAM,CAACM,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAC,EAC/BL,KAAK,CAACF,MAAM,CAACM,MAAM,CAACE,OAAO,EAC3BN,KAAK,CAACF,MAAM,CAACM,MAAM,CAACG,QAAQ,CAAC,CAAC,CAAC,EAC/BP,KAAK,CAACF,MAAM,CAACM,MAAM,CAACG,QAAQ,CAAC,CAAC,CAAC,CAChC,CAAC,CACDC,WAAW,CAAC/C,EAAE,CAACgD,cAAc,CAAC;EACnC,CAAC;;EAED;EACA,MAAMC,QAAQ,GAAIC,KAAK,IAAK;IAC1B,OAAOZ,aAAa,CAAC,CAAC,CAACY,KAAK,CAAC;EAC/B,CAAC;;EAED;EACA,MAAMC,oBAAoB,GAAID,KAAK,IAAK;IACtC,MAAME,OAAO,GAAGhB,WAAW,CAACgB,OAAO;IAEnC,IAAIF,KAAK,IAAI,CAAC,EAAE,OAAOE,OAAO,CAACN,QAAQ;IACvC,IAAII,KAAK,IAAI,CAAC,EAAE,OAAOE,OAAO,CAACC,YAAY;IAC3C,IAAIH,KAAK,GAAG,CAAC,EAAE,OAAOE,OAAO,CAACE,WAAW;IACzC,IAAIJ,KAAK,KAAK,CAAC,EAAE,OAAOE,OAAO,CAACP,OAAO;IACvC,IAAIK,KAAK,GAAG,CAAC,CAAC,EAAE,OAAOE,OAAO,CAACG,WAAW;IAC1C,IAAIL,KAAK,GAAG,CAAC,CAAC,EAAE,OAAOE,OAAO,CAACI,YAAY;IAC3C,OAAOJ,OAAO,CAACR,QAAQ;EACzB,CAAC;;EAED;EACA,MAAMa,eAAe,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;IACzCnC,cAAc,CAACmC,MAAM,CAAC;IACtB,MAAM;MAAEC,OAAO;MAAEC;IAAQ,CAAC,GAAGH,KAAK;IAClChC,kBAAkB,CAAC;MAAEC,CAAC,EAAEiC,OAAO;MAAEhC,CAAC,EAAEiC;IAAQ,CAAC,CAAC;EAChD,CAAC;;EAED;EACA,MAAMC,eAAe,GAAIJ,KAAK,IAAK;IACjC,MAAM;MAAEE,OAAO;MAAEC;IAAQ,CAAC,GAAGH,KAAK;IAClChC,kBAAkB,CAAC;MAAEC,CAAC,EAAEiC,OAAO;MAAEhC,CAAC,EAAEiC;IAAQ,CAAC,CAAC;EAChD,CAAC;;EAED;EACA,MAAME,cAAc,GAAGA,CAAA,KAAM;IAC3BvC,cAAc,CAAC,IAAI,CAAC;EACtB,CAAC;;EAED;EACA3B,SAAS,CAAC,MAAM;IACd,IAAI,CAACwB,MAAM,CAACQ,OAAO,IAAI,CAACf,UAAU,IAAI,CAACA,UAAU,CAACC,KAAK,IAAI,CAACJ,UAAU,CAACqD,MAAM,EAAE;IAE/E,MAAMC,GAAG,GAAGjE,EAAE,CAACkE,MAAM,CAAC7C,MAAM,CAACQ,OAAO,CAAC;IACrCoC,GAAG,CAACE,SAAS,CAAC,GAAG,CAAC,CAACC,MAAM,CAAC,CAAC;IAE3B,MAAMC,YAAY,GAAGvD,UAAU,CAACC,KAAK;;IAErC;IACA,MAAMuD,aAAa,GAAGD,YAAY,IAAI,CAAC,GAAG,CAAC,CAAC;IAE5CJ,GAAG,CAACM,IAAI,CAAC,SAAS,EAAE,OAAOF,YAAY,IAAIC,aAAa,EAAE,CAAC,CACvDC,IAAI,CAAC,OAAO,EAAE,MAAM;IACrB;IACA;IAAA,CACCC,KAAK,CAAC,SAAS,EAAE,OAAO,CAAC;IAE7B,MAAMC,kBAAkB,GAAGxE,WAAW,CAACY,YAAY,CAAC,CAACwB,MAAM;;IAE3D;IACA,MAAMqC,cAAc,GAAG;MAAE3D,KAAK,EAAEsD,YAAY;MAAErD,MAAM,EAAEsD;IAAc,CAAC;IAErE,IAAI1D,YAAY,EAAE;MAChB+D,iBAAiB,CAACV,GAAG,EAAEtD,UAAU,EAAE+D,cAAc,EAAED,kBAAkB,CAAC;IACxE,CAAC,MAAM;MACL;MACAG,mBAAmB,CAACX,GAAG,EAAEtD,UAAU,EAAE+D,cAAc,EAAED,kBAAkB,CAAC;IAC1E;;IAEF;EACA,CAAC,EAAE,CAAC9D,UAAU,EAAEG,UAAU,CAACC,KAAK,EAAEH,YAAY,EAAEC,YAAY,CAAC,CAAC;;EAE9D;EACA,MAAM8D,iBAAiB,GAAGA,CAACV,GAAG,EAAEY,OAAO,EAAE;IAAE9D,KAAK;IAAEC;EAAO,CAAC,EAAEoB,WAAW,KAAK;IAExE;IACA,MAAM0C,eAAe,GAAGb,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CACpCR,IAAI,CAAC,OAAO,EAAE,kBAAkB,CAAC;;IAEpC;IACA,MAAMS,SAAS,GAAGC,IAAI,CAACC,GAAG,CAACL,OAAO,CAACb,MAAM,GAAG,GAAG,EAAE,GAAG,CAAC;IACrD,KAAK,IAAImB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,SAAS,EAAEG,CAAC,EAAE,EAAE;MAAA,IAAAC,iBAAA;MAClC;MACA,MAAMzD,CAAC,GAAGsD,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGtE,KAAK,GAAG,IAAI,GAAGA,KAAK,GAAG,IAAI;MACrD,MAAMa,CAAC,GAAGqD,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGrE,MAAM,GAAG,IAAI,GAAGA,MAAM,GAAG,IAAI;MACvD,MAAMsE,IAAI,GAAGL,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,EAAE,GAAG,EAAE;MACpC,MAAME,OAAO,GAAGN,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,GAAG,GAAG;MACzC;MACA,MAAMG,QAAQ,GAAGP,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG;MAEpC,MAAMI,KAAK,GAAGX,eAAe,CAACC,MAAM,CAAC,GAAG,CAAC,CACtCR,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,KAAKC,CAAC,GAAG,CAAC,CAAC,CAAC;;MAE/C6D,KAAK,CAACV,MAAM,CAAC,MAAM,CAAC,CACjBR,IAAI,CAAC,GAAG,EAAEpE,KAAK,CAACuF,YAAY,CAACJ,IAAI,CAAC,CAAC,CACnCf,IAAI,CAAC,MAAM,EAAE,EAAAa,iBAAA,GAAAhD,WAAW,CAACuD,IAAI,cAAAP,iBAAA,uBAAhBA,iBAAA,CAAkBQ,KAAK,KAAI,SAAS,CAAC,CAClDrB,IAAI,CAAC,SAAS,EAAEgB,OAAO;MACxB;MAAA,CACChB,IAAI,CAAC,WAAW,EAAE,UAAUiB,QAAQ,GAAG,CAAC;IAC7C;;IAEA;IACAX,OAAO,CAACgB,OAAO,CAAC,CAAClC,MAAM,EAAEwB,CAAC,KAAK;MAC7B;MACA,MAAMxD,CAAC,GAAGsD,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGtE,KAAK,GAAG,GAAG,GAAGA,KAAK,GAAG,GAAG;MACnD,MAAMa,CAAC,GAAGqD,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGrE,MAAM,GAAG,GAAG,GAAGA,MAAM,GAAG,GAAG;MAErD,MAAM8E,OAAO,GAAGhB,eAAe,CAACC,MAAM,CAAC,GAAG,CAAC,CACxCR,IAAI,CAAC,OAAO,EAAE,aAAa,CAAC,CAC5BA,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,KAAKC,CAAC,GAAG,CAAC,CAAC,CAAC;;MAE/C;MACA;MACA,MAAMmE,cAAc,GAAGD,OAAO,CAACf,MAAM,CAAC,GAAG,CAAC,CACvCR,IAAI,CAAC,OAAO,EAAE,eAAeU,IAAI,CAACe,KAAK,CAACf,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,CAAE,CAAC,EAAE,CAAC,CAC9Db,KAAK,CAAC,iBAAiB,EAAE,GAAGS,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;;MAEpD;MACA,MAAMC,IAAI,GAAGpF,UAAU,CAAC+F,mBAAmB,CAACtC,MAAM,CAACT,KAAK,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;MACvE,MAAMP,MAAM,GAAGuD,KAAK,CAACC,IAAI,CAAC;QAACnC,MAAM,EAAE;MAAC,CAAC,EAAE,CAACoC,CAAC,EAAEC,CAAC,KAAK;QAAE;QACjD,MAAMC,KAAK,GAAGD,CAAC,GAAG,EAAE;QACpB,OAAO;AACjB,uBAAuBlG,KAAK,CAACoG,aAAa,CAACjB,IAAI,CAAC;AAChD,0BAA0BrC,QAAQ,CAACU,MAAM,CAACT,KAAK,CAAC;AAChD,sCAAsCoD,KAAK;AAC3C,6BAA6B3C,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG,MAAM;AACjE,WAAW;MACH,CAAC,CAAC,CAACsD,IAAI,CAAC,EAAE,CAAC;MAEXT,cAAc,CAACU,IAAI,CAAC9D,MAAM,CAAC;;MAE3B;MACAoD,cAAc,CAAChB,MAAM,CAAC,QAAQ,CAAC,CAC5BR,IAAI,CAAC,GAAG,EAAEe,IAAI,GAAGpF,UAAU,CAACyD,MAAM,CAAC+C,WAAW,CAAC,CAC/CnC,IAAI,CAAC,MAAM,EAAEpB,oBAAoB,CAACQ,MAAM,CAACT,KAAK,CAAC,CAAC,CAChDqB,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CAAC;MAAA,CAC1BA,IAAI,CAAC,cAAc,EAAEZ,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;MACvD;;MAEA;MACA4C,OAAO,CACJa,EAAE,CAAC,WAAW,EAAGjD,KAAK,IAAKD,eAAe,CAACC,KAAK,EAAEC,MAAM,CAAC,CAAC,CAC1DgD,EAAE,CAAC,WAAW,EAAE7C,eAAe,CAAC,CAChC6C,EAAE,CAAC,UAAU,EAAE5C,cAAc,CAAC,CAC9BS,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAC1BA,KAAK,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAC1CmC,EAAE,CAAC,YAAY,EAAE,YAAW;QAAE;QAC7B3G,EAAE,CAACkE,MAAM,CAAC,IAAI,CAAC,CAAC0C,UAAU,CAAC,CAAC,CACzBrC,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,IAAIC,CAAC,eAAe,CAAC,CAAC,CAAC;MAC5D,CAAC,CAAC,CACD+E,EAAE,CAAC,YAAY,EAAE,YAAW;QAAE;QAC7B3G,EAAE,CAACkE,MAAM,CAAC,IAAI,CAAC,CAAC0C,UAAU,CAAC,CAAC,CACzBrC,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,IAAIC,CAAC,YAAY,CAAC,CAAC,CAAC;MACzD,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;;EAEH;EACA,MAAMiF,oBAAoB,GAAGA,CAACC,SAAS,EAAEC,OAAO,EAAEC,OAAO,KAAK;IAC5D,MAAMhC,SAAS,GAAGC,IAAI,CAACe,KAAK,CAACrF,UAAU,CAACqD,MAAM,GAAG,GAAG,CAAC;IACrD,MAAMjD,KAAK,GAAGb,UAAU,CAAC+G,IAAI,CAAClG,KAAK;IACnC,MAAMC,MAAM,GAAGd,UAAU,CAACgH,wBAAwB,CAAC,CAAC;IACpD,MAAMC,YAAY,GAAGjH,UAAU,CAAC+G,IAAI,CAACE,YAAY;;IAEjD;IACA,MAAMC,WAAW,GAAGrG,KAAK,GAAG,GAAG;IAC/B,MAAMsG,YAAY,GAAGrG,MAAM,GAAGmG,YAAY,GAAG,GAAG;IAChD,MAAMG,OAAO,GAAG,CAACvG,KAAK,GAAGqG,WAAW,IAAI,CAAC;IACzC,MAAMG,OAAO,GAAGJ,YAAY,GAAG,EAAE;IAEjC,MAAMK,MAAM,GAAGtB,KAAK,CAACC,IAAI,CAAC;MAACnC,MAAM,EAAEgB;IAAS,CAAC,EAAE,CAACoB,CAAC,EAAEjB,CAAC,KAAK;MACvD,OAAO;QACLxD,CAAC,EAAE2F,OAAO,GAAGrC,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG+B,WAAW;QACxCxF,CAAC,EAAE2F,OAAO,GAAGtC,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGgC,YAAY;QACzC/B,IAAI,EAAE,EAAE,GAAGL,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,EAAE;QAC7BiB,KAAK,EAAErB,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG;QAC1BoC,EAAE,EAAEtC;MACN,CAAC;IACH,CAAC,CAAC;IAEF,MAAMuC,SAAS,GAAGZ,SAAS,CAAC/B,MAAM,CAAC,GAAG,CAAC,CACpCR,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;IAE9BiD,MAAM,CAAC3B,OAAO,CAACF,IAAI,IAAI;MACrB,MAAMgC,UAAU,GAAG,CACjB,wBAAwB,EACxB,wBAAwB,EACxB,wBAAwB,EACxB,wBAAwB,CACzB;MAED,MAAMlC,KAAK,GAAGiC,SAAS,CAAC3C,MAAM,CAAC,GAAG,CAAC,CAChCR,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAC1BA,IAAI,CAAC,WAAW,EAAE,aAAaoB,IAAI,CAAChE,CAAC,KAAKgE,IAAI,CAAC/D,CAAC,GAAG,CAAC;MAEvD,MAAMgG,aAAa,GAAGnC,KAAK,CAACV,MAAM,CAAC,GAAG,CAAC,CACpCR,IAAI,CAAC,OAAO,EAAE,oBAAoBU,IAAI,CAACe,KAAK,CAACf,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CACtEb,KAAK,CAAC,iBAAiB,EAAE,GAAGS,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,CACjDb,KAAK,CAAC,oBAAoB,EAAE,GAAG,CAAC,GAAGS,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC;MAE3DuC,aAAa,CAAC7C,MAAM,CAAC,MAAM,CAAC,CACzBR,IAAI,CAAC,GAAG,EAAEpE,KAAK,CAACuF,YAAY,CAACC,IAAI,CAACL,IAAI,CAAC,CAAC,CACxCf,IAAI,CAAC,MAAM,EAAEoD,UAAU,CAAC1C,IAAI,CAACe,KAAK,CAACf,IAAI,CAACI,MAAM,CAAC,CAAC,GAAGsC,UAAU,CAAC3D,MAAM,CAAC,CAAC,CAAC,CACvEO,IAAI,CAAC,WAAW,EAAE,UAAUoB,IAAI,CAACW,KAAK,GAAG,CAAC,CAC1C/B,IAAI,CAAC,SAAS,EAAE,GAAG,GAAGU,IAAI,CAACI,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;IAC/C,CAAC,CAAC;EACJ,CAAC;;EAED;EACA,MAAMwC,gBAAgB,GAAGA,CAACf,SAAS,EAAEnD,MAAM,KAAK;IAC9C,MAAM2B,IAAI,GAAGpF,UAAU,CAAC+F,mBAAmB,CAACtC,MAAM,CAACT,KAAK,EAAE,IAAI,CAAC;IAC/D,MAAMP,MAAM,GAAGuD,KAAK,CAACC,IAAI,CAAC;MAACnC,MAAM,EAAE9D,UAAU,CAACyD,MAAM,CAACmE;IAAU,CAAC,EAAE,CAAC1B,CAAC,EAAEC,CAAC,KAAK;MAC1E,MAAMC,KAAK,GAAGD,CAAC,IAAI,GAAG,GAAGnG,UAAU,CAACyD,MAAM,CAACmE,UAAU,CAAC;MACtD,OAAO;AACb,mBAAmB3H,KAAK,CAACoG,aAAa,CAACjB,IAAI,CAAC;AAC5C,sBAAsBrC,QAAQ,CAACU,MAAM,CAACT,KAAK,CAAC;AAC5C,kCAAkCoD,KAAK;AACvC,yBAAyB3C,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG,GAAG;AAC1D,cAAcS,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,kCAAkC,GAAG,EAAE;AAC1E,OAAO;IACH,CAAC,CAAC,CAACsD,IAAI,CAAC,EAAE,CAAC;;IAEX;IACAM,SAAS,CAACL,IAAI,CAAC9D,MAAM,CAAC;;IAEtB;IACAmE,SAAS,CAAC/B,MAAM,CAAC,QAAQ,CAAC,CACvBR,IAAI,CAAC,GAAG,EAAEe,IAAI,GAAGpF,UAAU,CAACyD,MAAM,CAAC+C,WAAW,CAAC,CAC/CnC,IAAI,CAAC,MAAM,EAAEpB,oBAAoB,CAACQ,MAAM,CAACT,KAAK,CAAC,CAAC,CAChDqB,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CACzBA,IAAI,CAAC,cAAc,EAAE,GAAG,CAAC;EAC9B,CAAC;;EAED;EACA;EACA,MAAMK,mBAAmB,GAAGA,CAACX,GAAG,EAAEY,OAAO,EAAE;IAAE9D,KAAK;IAAEC;EAAO,CAAC,EAAEoB,WAAW,KAAK;IAC5E;IACA;IACA;IACA,MAAM+E,YAAY,GAAGjH,UAAU,CAAC+G,IAAI,CAACE,YAAY,CAAC,CAAC;IACnD,MAAMY,MAAM,GAAG,CAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,EAAC,KAAK,CAAC;;IAExF;IACA,MAAMC,UAAU,GAAGjH,KAAK,GAAG,GAAG;IAC9B,MAAMkH,SAAS,GAAG,EAAE,CAAC,CAAC;IACtB,MAAMC,YAAY,GAAGlH,MAAM,GAAG,IAAI;IAClC,MAAMmH,WAAW,GAAGpH,KAAK,GAAG,IAAI;IAEhC,MAAMqG,WAAW,GAAGrG,KAAK,GAAGiH,UAAU,GAAGG,WAAW;IACpD,MAAMd,YAAY,GAAGrG,MAAM,GAAGiH,SAAS,GAAGC,YAAY,CAAC,CAAC;;IAExD,MAAME,UAAU,GAAGhB,WAAW,GAAG,EAAE;IACnC,MAAMiB,MAAM,GAAGJ,SAAS;IACxB;IACA,MAAMK,UAAU,GAAGjB,YAAY,GAAG,EAAE;IACpC;;IAEA;IACA,MAAMkB,SAAS,GAAGtE,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAACR,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC;;IAE7D;IACA,KAAK,IAAIY,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,EAAE,EAAEA,CAAC,EAAE,EAAE;MAC1BoD,SAAS,CAACxD,MAAM,CAAC,MAAM,CAAC,CACrBR,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAC1BA,IAAI,CAAC,IAAI,EAAEyD,UAAU,GAAG7C,CAAC,GAAGiD,UAAW,CAAC,CACxC7D,IAAI,CAAC,IAAI,EAAE0D,SAAS,GAAG,EAAE,CAAC,CAAC;MAAA,CAC3B1D,IAAI,CAAC,IAAI,EAAEyD,UAAU,GAAG7C,CAAC,GAAGiD,UAAW,CAAC,CACxC7D,IAAI,CAAC,IAAI,EAAE0D,SAAS,GAAG,EAAE,GAAGK,UAAU,CAAC,CAAC;MAAA,CACxC9D,KAAK,CAAC,QAAQ,EAAE,kBAAkB,CAAC,CACnCA,KAAK,CAAC,cAAc,EAAEW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC,CAC5CX,KAAK,CAAC,kBAAkB,EAAEW,CAAC,GAAG,CAAC,KAAK,CAAC,GAAG,MAAM,GAAG,KAAK,CAAC;IAC9D;;IAEA;IACA,KAAK,IAAIA,CAAC,GAAG,CAAC,EAAEA,CAAC,IAAI,EAAE,EAAEA,CAAC,IAAI,CAAC,EAAE;MAC/BoD,SAAS,CAACxD,MAAM,CAAC,MAAM,CAAC,CACrBR,IAAI,CAAC,OAAO,EAAE,WAAW,CAAC,CAC1BA,IAAI,CAAC,IAAI,EAAEyD,UAAU,GAAG,EAAE,CAAC,CAC3BzD,IAAI,CAAC,IAAI,EAAE0D,SAAS,GAAG9C,CAAC,GAAGmD,UAAU,CAAC,CACtC/D,IAAI,CAAC,IAAI,EAAEyD,UAAU,GAAG,EAAE,GAAGI,UAAU,GAAG,EAAE,CAAC,CAAC;MAAA,CAC9C7D,IAAI,CAAC,IAAI,EAAE0D,SAAS,GAAG9C,CAAC,GAAGmD,UAAU,CAAC,EAAC;MACrC;IACP;;IAEA;IACAP,MAAM,CAAClC,OAAO,CAAC,CAAC2C,KAAK,EAAErD,CAAC,KAAK;MAC3B,MAAMxD,CAAC,GAAGqG,UAAU,GAAG7C,CAAC,GAAGiD,UAAU,GAAIA,UAAU,GAAG,CAAE;MACxDnE,GAAG,CAACc,MAAM,CAAC,MAAM,CAAC,CACfR,IAAI,CAAC,GAAG,EAAE5C,CAAC,CAAC,CACZ4C,IAAI,CAAC,GAAG,EAAE8D,MAAM,GAAG,EAAE,CAAC,CAAC;MAAA,CACvB9D,IAAI,CAAC,OAAO,EAAE,YAAY,CAAC,CAC3BA,IAAI,CAAC,aAAa,EAAE,QAAQ,CAAC,CAC7BC,KAAK,CAAC,aAAa,EAAE,0BAA0B,CAAC,CAChDA,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAC1BA,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,CAC3BA,KAAK,CAAC,SAAS,EAAE,KAAK,CAAC,CACvBA,KAAK,CAAC,MAAM,EAAEpC,WAAW,CAACqG,IAAI,CAACC,SAAS,CAAC,CAAC;MAAA,CAC1CD,IAAI,CAACD,KAAK,CAAC;IAChB,CAAC,CAAC;;IAEF;IACA,KAAK,IAAIG,GAAG,GAAG,CAAC,EAAEA,GAAG,IAAI,EAAE,EAAEA,GAAG,EAAE,EAAE;MAClC,MAAMC,YAAY,GAAGD,GAAG,GAAG,EAAE,GAAG,IAAIA,GAAG,EAAE,GAAG,GAAGA,GAAG,EAAE;MACpD1E,GAAG,CAACc,MAAM,CAAC,MAAM,CAAC,CACfR,IAAI,CAAC,GAAG,EAAEyD,UAAU,GAAG,EAAE,CAAC,CAC1BzD,IAAI,CAAC,GAAG,EAAE8D,MAAM,GAAG,CAACM,GAAG,GAAG,CAAC,IAAIL,UAAU,CAAC,CAAC;MACzC;MAAA,CACF9D,KAAK,CAAC,MAAM,EAAEpC,WAAW,CAACqG,IAAI,CAACC,SAAS,CAAC,CAAC;MAAA,CAC1ClE,KAAK,CAAC,WAAW,EAAE,MAAM,CAAC,CAC1BA,KAAK,CAAC,aAAa,EAAE,KAAK,CAAC,CAC3BiE,IAAI,CAACG,YAAY,CAAC;IACvB;;IAEA;IACA/D,OAAO,CAACgB,OAAO,CAAClC,MAAM,IAAI;MACxB,MAAMhC,CAAC,GAAGqG,UAAU,GAAG,CAACrE,MAAM,CAAC6E,KAAK,GAAG,CAAC,IAAIJ,UAAU,GAAIA,UAAU,GAAG,CAAE;MACzE,MAAMxG,CAAC,GAAGyG,MAAM,GAAG,CAAC1E,MAAM,CAACgF,GAAG,GAAG,CAAC,IAAIL,UAAU,CAAC,CAAC;;MAElD,MAAMxC,OAAO,GAAG7B,GAAG,CAACc,MAAM,CAAC,GAAG,CAAC,CAC5BR,IAAI,CAAC,OAAO,EAAE,QAAQ,CAAC,CACvBA,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,IAAIC,CAAC,GAAG,CAAC;;MAE5C;MACA;MACA,MAAM0D,IAAI,GAAGpF,UAAU,CAAC+F,mBAAmB,CAACtC,MAAM,CAACT,KAAK,EAAE,KAAK,CAAC,GAAG,GAAG;MACtE,MAAMP,MAAM,GAAGuD,KAAK,CAACC,IAAI,CAAC;QAACnC,MAAM,EAAE;MAAC,CAAC,EAAE,CAACoC,CAAC,EAAEjB,CAAC,KAAK;QAC/C,MAAMmB,KAAK,GAAGnB,CAAC,GAAG,EAAE;QACpB,OAAO;AACf,qBAAqBhF,KAAK,CAACoG,aAAa,CAACjB,IAAI,CAAC;AAC9C,wBAAwBrC,QAAQ,CAACU,MAAM,CAACT,KAAK,CAAC;AAC9C,oCAAoCoD,KAAK;AACzC,2BAA2B3C,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,MAAM,GAAG,MAAM;AAC/D,SAAS;MACH,CAAC,CAAC,CAACsD,IAAI,CAAC,EAAE,CAAC;MAEXV,OAAO,CAACW,IAAI,CAAC9D,MAAM,CAAC;MAEpBmD,OAAO,CAACf,MAAM,CAAC,QAAQ,CAAC,CACrBR,IAAI,CAAC,GAAG,EAAEe,IAAI,GAAGpF,UAAU,CAACyD,MAAM,CAAC+C,WAAW,CAAC,CAC/CnC,IAAI,CAAC,MAAM,EAAEpB,oBAAoB,CAACQ,MAAM,CAACT,KAAK,CAAC,CAAC,CAAC;MAAA,CACjDqB,IAAI,CAAC,QAAQ,EAAE,SAAS,CAAC,CACzBA,IAAI,CAAC,cAAc,EAAEZ,MAAM,CAACT,KAAK,KAAK,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC;;MAEvD;MACA4C,OAAO,CACJa,EAAE,CAAC,WAAW,EAAGjD,KAAK,IAAKD,eAAe,CAACC,KAAK,EAAEC,MAAM,CAAC,CAAC,CAC1DgD,EAAE,CAAC,WAAW,EAAE7C,eAAe,CAAC,CAChC6C,EAAE,CAAC,UAAU,EAAE5C,cAAc,CAAC,CAC9BS,KAAK,CAAC,QAAQ,EAAE,SAAS,CAAC,CAC1BA,KAAK,CAAC,YAAY,EAAE,qBAAqB,CAAC,CAC1CmC,EAAE,CAAC,YAAY,EAAE,YAAW;QAC3B3G,EAAE,CAACkE,MAAM,CAAC,IAAI,CAAC,CAAC0C,UAAU,CAAC,CAAC,CAACrC,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,IAAIC,CAAC,eAAe,CAAC;MACpF,CAAC,CAAC,CACD+E,EAAE,CAAC,YAAY,EAAE,YAAW;QAC3B3G,EAAE,CAACkE,MAAM,CAAC,IAAI,CAAC,CAAC0C,UAAU,CAAC,CAAC,CAACrC,IAAI,CAAC,WAAW,EAAE,aAAa5C,CAAC,IAAIC,CAAC,YAAY,CAAC;MACjF,CAAC,CAAC;IACN,CAAC,CAAC;EACJ,CAAC;EAED,oBACEtB,OAAA,CAACC,YAAY;IAACgC,KAAK,EAAEH,WAAY;IAACyG,GAAG,EAAEvH,YAAa;IAAAwH,QAAA,gBAElDxI,OAAA;MAAKuI,GAAG,EAAExH,MAAO;MAACN,KAAK,EAAC;IAAM;MAAAgI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,EAChC3H,WAAW,iBACVjB,OAAA,CAACF,OAAO;MACN+I,IAAI,EAAE5H,WAAY;MAClB6H,QAAQ,EAAE3H,eAAgB;MAC1BW,WAAW,EAAEA,WAAY;MACzBa,QAAQ,EAAEA;IAAS;MAAA8F,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpB,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACW,CAAC;AAEnB,CAAC;AAAC9H,EAAA,CA7aIV,UAAU;AAAA2I,GAAA,GAAV3I,UAAU;AA+ahB,eAAeA,UAAU;AAAC,IAAAD,EAAA,EAAA4I,GAAA;AAAAC,YAAA,CAAA7I,EAAA;AAAA6I,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}